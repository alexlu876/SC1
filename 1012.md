# 10.12.17 - molloc & free: The Dynamic Duo!

## Dynamic Memory Allocation

### `malloc(size_t x)` - Memory Allocation
- allocates x bytes of memory (from the heap)
- returns the address at the beginning of the allocation
- returns a void *, always typecast to the correct pointer type.

```c
int *p;
p = (int *)malloc(5 * sizeof(int));
```

### `free`

Releases dynamically allocated memory.

Takes one parameter, a pointer to the beginning of a dynamically allocated block of memory.

**Every call to malloc/calloc should have a corresponding call to free.**

```c
int *p;
p = (int *)malloc(20);
free(p);
```
When calling free, the original pointer does not need to be used. If there are 3 pointers pointing to the same address (must be the beginning of the allocation), any one of the pointers will work.

### `calloc(size_t n, size_t x)` - Clear Allocation
- allocates n * x bytes of memory
- ensures that each bit is set to 0
- works like malloc in all other ways

```c
int *p;
p = (int*)calloc(5, sizeof(int));
```

### `realloc(void *p, size_t x)` - Re-Allocation
- changes the amount of memory allocated to a given block
- `p` must be a pointer to the beginning of an allocated block of memory, but it does not have to be the original pointer.
- if `x` is smaller than the original size of the allocation, the extra bytes will be released
- if `x` is larger and there is no room after the original allocation, it will copy over the memory and return a different pointer (frees the old one)

```c
int *p;
p = (int *)malloc(20);
p = (int *)realloc(p, 40);
```